<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Noticias - Responsive</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; style-src 'self'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' http://localhost:* https://thisisfuerteventura.netlify.app; base-uri 'self'; object-src 'none'; frame-ancestors 'self';">
    <link rel="stylesheet" href="css/test.css?v=2025111612">
</head>
<body>
    <h1>🔍 Debug de Noticias en Responsive</h1>

    <div class="info-box">
        <h2>📱 Información del Viewport</h2>
        <div class="viewport-info" id="viewport-info">
            <div class="metric">
                <strong id="vw-width">-</strong>
                <span>Ancho (px)</span>
            </div>
            <div class="metric">
                <strong id="vw-height">-</strong>
                <span>Alto (px)</span>
            </div>
            <div class="metric">
                <strong id="vw-ratio">-</strong>
                <span>Device Pixel Ratio</span>
            </div>
            <div class="metric">
                <strong id="vw-type">-</strong>
                <span>Tipo de dispositivo</span>
            </div>
        </div>
    </div>

    <div class="info-box">
        <h2>🌐 Detección de Proxy</h2>
        <button id="btn-proxy" class="btn">Probar Detección de Proxy</button>
        <pre id="proxy-result">Click en el botón para probar...</pre>
    </div>

    <div class="info-box">
        <h2>📰 Carga de Noticias</h2>
        <button id="btn-news" class="btn">Cargar Noticias</button>
        <pre id="news-result">Click en el botón para cargar...</pre>
    </div>

    <div class="info-box">
        <h2>🔧 Test de content-loader.js</h2>
        <button id="btn-loader" class="btn">Verificar Script</button>
        <pre id="loader-result">Click en el botón para verificar...</pre>
        <button id="btn-clear-logs" class="btn">Limpiar Logs</button>
        <pre id="console-logs" class="console-logs">Los logs aparecerán aquí...</pre>
    <script src="js/test-news-debug.js?v=2025111612" defer></script>
    <script src="js/proxy-discovery.js?v=2025111508" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.4.0/dist/purify.min.js" defer crossorigin="anonymous" integrity="sha384-Tsl3d5pUAO7a13enIvSsL3O0/95nsthPJiPto5NtLuY8w3+LbZOpr3Fl2MNmrh1E"></script>
    <script src="js/feed-utils.js?v=2025111508" defer></script>
    <script src="js/content-loader.js?v=2025111508" defer></script>
            const scripts = Array.from(document.scripts).map(s => s.src).filter(Boolean);
            result.textContent += `Scripts cargados:\n${scripts.join('\n')}`;
        }
        
        console.log('Debug page loaded');
    </script>
</body>
</html>
